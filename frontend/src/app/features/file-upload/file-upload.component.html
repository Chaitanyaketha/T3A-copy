<div class="file-upload-wrapper">
  <div class="upload-header">
    <h2 class="title">Manage Files</h2>
    <div class="button-group">
      <button class="btn btn-upload" (click)="triggerFileInput()">
        <i class="bi bi-cloud-upload"></i> Upload Files
      </button>
      <input type="file" #fileInput hidden multiple (change)="onFileSelected($event)" />
      <button class="btn btn-download" (click)="downloadSelectedFiles()" [disabled]="selectedFileNames.length === 0">
        <i class="bi bi-download"></i> Download BULK
      </button>
    </div>
  </div>

  <div class="file-container">
    <div class="file-list-header">
      <input type="checkbox" (change)="selectAllFiles($event)" [checked]="isAllSelected()" />
      <span>Select All</span>
    </div>

    <div class="file-grid">
      <div *ngFor="let file of files" class="file-card">
        <div class="file-details">
          <input type="checkbox" (change)="toggleFileSelection(file.name)"
            [checked]="selectedFileNames.includes(file.name)" />
          <div class="file-icon">
            <i class="bi bi-file-earmark"></i>
          </div>
          <div class="file-info">
            <span class="file-name">{{ file.name }}</span>
          </div>
        </div>
        <button class="btn-delete" (click)="deleteFile(file.name)">
          <i class="bi bi-trash"></i>
        </button>
      </div>
    </div>
  </div>
</div>
